import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import quandl
from statsmodels.tsa.stattools import adfuller
from scipy import stats


class Cointegrator(object):
  def __init__(self, gs, jpm): # using these classic tickers instead of stock1 and stock2
    self.gs = np.array(quandl.get("WIKI/" + gs).loc[:, "Close"].tolist())
    self.jpm = np.array(quandl.get("WIKI/" + jpm).loc[:, "Close"].tolist())
   
  def adf(self):
    gs = adfuller(self.gs)[1]
    jpm = adfuller(self.jpm)[1]
    if gs < .05 and jpm < .05:
      return True
    else:
      return False
  
  def engel_granger(self):
    adf = self.adf()
    if adf == True:
      if np.nanmean(self.gs) > np.nanmean(self.jpm)
      ws = stats.linregress([self.jpm, self.gs])[:2]
    else:    
      ws = stats.linregress([self.gs, self.jpm])[:2]
    
